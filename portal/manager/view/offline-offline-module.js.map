{"version":3,"sources":["webpack:///./src/app/offline/edit/edit.component.html","webpack:///./src/app/offline/grid/body/body.component.html","webpack:///./src/app/offline/grid/footer/footer.component.html","webpack:///./src/app/offline/grid/header/header.component.html","webpack:///./src/app/offline/offline.component.html","webpack:///./src/app/offline/resource/resource.component.html","webpack:///./src/app/offline/view/view.component.html","webpack:///./src/app/offline/edit/edit.component.ts","webpack:///./src/app/offline/grid/body/body.component.ts","webpack:///./src/app/offline/grid/footer/footer.component.ts","webpack:///./src/app/offline/grid/header/header.component.ts","webpack:///./src/app/offline/offline.component.scss","webpack:///./src/app/offline/offline.component.ts","webpack:///./src/app/offline/offline.config.ts","webpack:///./src/app/offline/offline.module.ts","webpack:///./src/app/offline/offline.resource.service.ts","webpack:///./src/app/offline/resource/resource.component.scss","webpack:///./src/app/offline/resource/resource.component.ts","webpack:///./src/app/offline/view/view.component.ts"],"names":[],"mappings":"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","file":"offline-offline-module.js","sourcesContent":["module.exports = \"<div class=\\\"card card-body bg-light\\\">\\n  <h3>Offline Information</h3>\\n  <ul>\\n    <li>Request ID: {{ service.resource?.request?._id }}</li>\\n    <li>Method: {{ service.resource?.request?.method }}</li>\\n    <li>URL: {{ service.resource?.request?.url }}</li>\\n  </ul>\\n</div>\\n<formio\\n  [form]=\\\"service.form\\\"\\n  [submission]=\\\"service.resource?.request?.data\\\"\\n  [error]=\\\"triggerError\\\"\\n  [refresh]=\\\"service.refresh\\\"\\n  (submit)=\\\"onSubmit($event)\\\"\\n></formio>\\n\"","module.exports = \"<ng-template>\\n  <tbody>\\n  <tr *ngFor=\\\"let row of rows\\\" (click)=\\\"onRowSelect($event, row)\\\">\\n    <td>{{ row.created }}</td>\\n    <td>{{ getMethod(row.method) }}</td>\\n    <td>{{ row.url }}</td>\\n  </tr>\\n  </tbody>\\n</ng-template>\\n\"","module.exports = \"<ng-template>\\n  <tfoot class=\\\"formio-grid-footer\\\"></tfoot>\\n</ng-template>\\n\"","module.exports = \"<ng-template>\\n  <thead>\\n  <tr>\\n    <th>Created</th>\\n    <th>Operation</th>\\n    <th>Url</th>\\n  </tr>\\n  </thead>\\n</ng-template>\\n\"","module.exports = \"<h4>Offline Tasks</h4>\\n<formio-grid\\n  [src]=\\\"gridSrc\\\"\\n  [components]=\\\"gridComps\\\"\\n  [refresh]=\\\"refreshGrid\\\"\\n  [items]=\\\"offlineService.offlineSubmissions\\\"\\n  [query]=\\\"gridQuery\\\"\\n  [onForm]=\\\"service.formLoaded\\\"\\n  (rowSelect)=\\\"onSelect($event)\\\"\\n  (error)=\\\"service.onError($event)\\\"\\n  createText=\\\"\\\"\\n></formio-grid>\\n<button [attr.disabled]=\\\"offlineService.isOnline ? null : ''\\\" type=\\\"button\\\" class=\\\"btn btn-warning mr-3\\\" (click)=\\\"offlineService.dequeueSubmissions()\\\">\\n  <i [ngClass]=\\\"{\\n    'fa-spin fa-refresh': offlineService.sync,\\n    'fa-send': !offlineService.sync\\n  }\\\" class=\\\"fa mr-1\\\"></i> Process Tasks\\n</button>\\n<button type=\\\"button\\\" class=\\\"btn btn-light mr-3\\\" (click)=\\\"emptyQueue()\\\"><i class=\\\"fa fa-trash mr-2\\\"></i> Empty Queue</button>\\n<button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"clearOffline()\\\"><i class=\\\"fa fa-trash mr-2\\\"></i> Clear Offline Data</button>\\n\"","module.exports = \"<ul class=\\\"nav nav-tabs\\\" style=\\\"margin-bottom: 10px\\\">\\n  <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" routerLink=\\\"../\\\"><i class=\\\"fa fa-chevron-left glyphicon glyphicon-chevron-left\\\"></i></a></li>\\n  <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\"><a class=\\\"nav-link\\\" routerLink=\\\"view\\\" routerLinkActive=\\\"active\\\">View</a></li>\\n  <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\"><a class=\\\"nav-link\\\" routerLink=\\\"edit\\\" routerLinkActive=\\\"active\\\">Edit</a></li>\\n  <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\"><a class=\\\"nav-link\\\" routerLink=\\\"delete\\\" routerLinkActive=\\\"active\\\"><span class=\\\"fa fa-trash glyphicon glyphicon-trash\\\"></span></a></li>\\n</ul>\\n<router-outlet></router-outlet>\\n\"","module.exports = \"<div class=\\\"card card-body bg-light\\\">\\n  <h3>Offline Queue Information</h3>\\n  <ul>\\n    <li>Created: {{ service.resource?.request?.data?.created }}</li>\\n    <li>Request ID: {{ service.resource?.request?._id }}</li>\\n    <li>Method: {{ service.resource?.request?.method }}</li>\\n    <li>URL: {{ service.resource?.request?.url }}</li>\\n  </ul>\\n</div>\\n<formio\\n  *ngIf=\\\"service.resource.request\\\"\\n  [form]=\\\"service.form\\\"\\n  [submission]=\\\"service.resource.request.data\\\"\\n  [refresh]=\\\"service.refresh\\\"\\n  [hideComponents]=\\\"config.parents\\\"\\n  [readOnly]=\\\"true\\\"\\n></formio>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { FormioResourceEditComponent } from 'angular-formio/resource';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html'\n})\nexport class OfflineEditComponent extends FormioResourceEditComponent {\n  onSubmit(submission: any) {\n    this.service.save(submission)\n      .then(() => {\n        this.router.navigate(['../', 'view'], { relativeTo: this.route });\n      })\n      .catch((err) => this.triggerError.emit(err));\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { GridBodyComponent } from 'angular-formio/grid';\n\n@Component({\n  selector: 'app-body',\n  templateUrl: './body.component.html'\n})\nexport class OfflineBodyComponent extends GridBodyComponent {\n  getMethod(method) {\n    switch (method) {\n      case 'POST':\n        return 'Create';\n      case 'PUT':\n        return 'Update';\n      case 'DELETE':\n        return 'Delete';\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { GridFooterComponent } from 'angular-formio/grid';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html'\n})\nexport class OfflineFooterComponent extends GridFooterComponent {}\n","import { Component, OnInit } from '@angular/core';\nimport { GridHeaderComponent } from 'angular-formio/grid';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html'\n})\nexport class OfflineHeaderComponent extends GridHeaderComponent {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29mZmxpbmUvb2ZmbGluZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, EventEmitter } from '@angular/core';\nimport {FormioResourceConfig, FormioResourceIndexComponent, FormioResourceService} from 'angular-formio/resource';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { OfflineService } from './offline.service';\nimport { OfflineHeaderComponent } from './grid/header/header.component';\nimport { OfflineBodyComponent } from './grid/body/body.component';\nimport { OfflineFooterComponent } from './grid/footer/footer.component';\n\n@Component({\n  selector: 'app-offline',\n  templateUrl: './offline.component.html',\n  styleUrls: ['./offline.component.scss']\n})\nexport class OfflineIndexComponent extends FormioResourceIndexComponent {\n  public refreshGrid: EventEmitter<any> = new EventEmitter();\n  public gridComps: any = {\n    header: OfflineHeaderComponent,\n    body: OfflineBodyComponent,\n    footer: OfflineFooterComponent\n  };\n\n  constructor(\n    public service: FormioResourceService,\n    public route: ActivatedRoute,\n    public router: Router,\n    public config: FormioResourceConfig,\n    public offlineService: OfflineService\n  ) {\n    super(service, route, router, config);\n  }\n\n  emptyQueue() {\n    if (window.confirm('This will delete all queued offline tasks. Are you sure?')) {\n      this.offlineService.emptyQueue().then(() => this.refreshGrid.emit({}));\n    }\n  }\n\n  clearOffline() {\n    if (window.confirm('This will delete all offline data. Are you sure?')) {\n      this.offlineService.clearAll().then(() => this.refreshGrid.emit({}));\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { FormioResourceConfig } from 'angular-formio/resource';\nimport { AppConfig } from '../config';\n\n@Injectable()\nexport class OfflineConfig extends FormioResourceConfig {\n  constructor(public config: AppConfig) {\n    super();\n  }\n\n  set name(name) {}\n  get name() {\n    return this.config.formName;\n  }\n\n  set form(form) {}\n  get form() {\n    return this.config.formPath;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormioModule } from 'angular-formio';\nimport { FormioGrid } from 'angular-formio/grid';\nimport {\n  FormioResource,\n  FormioResourceConfig,\n  FormioResourceService,\n  FormioResourceRoutes\n} from 'angular-formio/resource';\n\nimport { OfflineResourceService } from './offline.resource.service';\nimport { OfflineConfig } from './offline.config';\nimport { OfflineIndexComponent } from './offline.component';\nimport { OfflineResourceComponent } from './resource/resource.component';\nimport { OfflineViewComponent } from './view/view.component';\nimport { OfflineEditComponent } from './edit/edit.component';\nimport { OfflineHeaderComponent } from './grid/header/header.component';\nimport { OfflineBodyComponent } from './grid/body/body.component';\nimport { OfflineFooterComponent } from './grid/footer/footer.component';\n\n@NgModule({\n  declarations: [\n    OfflineIndexComponent,\n    OfflineResourceComponent,\n    OfflineViewComponent,\n    OfflineEditComponent,\n    OfflineHeaderComponent,\n    OfflineBodyComponent,\n    OfflineFooterComponent\n  ],\n  imports: [\n    CommonModule,\n    FormioModule,\n    FormioGrid,\n    FormioResource,\n    RouterModule.forChild(FormioResourceRoutes({\n      index: OfflineIndexComponent,\n      resource: OfflineResourceComponent,\n      view: OfflineViewComponent,\n      edit: OfflineEditComponent\n    }))\n  ],\n  providers: [\n    {\n      provide: FormioResourceService,\n      useClass: OfflineResourceService\n    },\n    {\n      provide: FormioResourceConfig,\n      useClass: OfflineConfig\n    }\n  ],\n  entryComponents: [\n    OfflineHeaderComponent,\n    OfflineBodyComponent,\n    OfflineFooterComponent\n  ]\n})\nexport class OfflineModule { }\n","import { Injectable, Optional } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormioLoader } from 'angular-formio';\nimport { FormioResourceService, FormioResourceConfig, FormioResources } from 'angular-formio/resource';\nimport { OfflineConfig } from './offline.config';\nimport { OfflineService } from './offline.service';\nimport { AppConfig } from '../config';\n\n@Injectable()\nexport class OfflineResourceService extends FormioResourceService {\n  constructor(\n    public appConfig: AppConfig,\n    public config: FormioResourceConfig,\n    public loader: FormioLoader,\n    @Optional() public resourcesService: FormioResources,\n    public offlineService: OfflineService\n  ) {\n    super(appConfig, config, loader, resourcesService);\n  }\n\n  loadResource(route: ActivatedRoute) {\n    this.setContext(route);\n    this.loader.loading = true;\n    this.resourceLoading = this.resourceLoaded = new Promise((resolve, reject) => {\n      route.params.subscribe(params => {\n        this.offlineService.offlinePlugin.ready.then(() => {\n          const submissionQueue = this.offlineService.offlinePlugin.getSubmissionQueueSubmission(params.form, params.id);\n          if (submissionQueue) {\n            this.resource = submissionQueue;\n            this.loader.loading = false;\n            this.refresh.emit({\n              property: 'submission',\n              value: this.resource\n            });\n            resolve(submissionQueue);\n          } else {\n            this.onSubmissionError('Submission not found');\n            reject('Submission not found');\n          }\n        });\n      });\n    });\n    return this.resourceLoading;\n  }\n\n  save(submission: any) {\n    return this.offlineService.offlinePlugin.ready.then(() => {\n      return this.offlineService.offlinePlugin.updateSubmissionQueueSubmission(submission);\n    });\n  }\n\n  remove() {\n    return this.offlineService.offlinePlugin.ready.then(() => {\n      return this.offlineService.offlinePlugin.removeSubmissionQueueSubmission(this.resource.request);\n    });\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29mZmxpbmUvcmVzb3VyY2UvcmVzb3VyY2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormioResourceComponent } from 'angular-formio/resource';\n\n@Component({\n  selector: 'app-resource',\n  templateUrl: './resource.component.html',\n  styleUrls: ['./resource.component.scss']\n})\nexport class OfflineResourceComponent extends FormioResourceComponent {}\n","import { Component } from '@angular/core';\nimport { FormioResourceViewComponent, FormioResourceService, FormioResourceConfig } from 'angular-formio/resource';\nimport { OfflineService } from '../offline.service';\n\n@Component({\n  selector: 'app-view',\n  templateUrl: './view.component.html'\n})\nexport class OfflineViewComponent extends FormioResourceViewComponent {\n  constructor(\n    public service: FormioResourceService,\n    public config: FormioResourceConfig,\n    public offlineService: OfflineService\n  ) {\n    super(service, config);\n  }\n}\n"],"sourceRoot":""}