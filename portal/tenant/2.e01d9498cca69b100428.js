(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{hqMR:function(l,n,u){"use strict";u.r(n),u.d(n,"TenantModuleNgFactory",(function(){return xl}));var t=u("CcnG"),e=function(){return function(){}}(),i=u("Yi/Q"),o=u("rxJI"),r=u("pMnS"),a=u("ZYCi"),c=u("Ip0R"),s=u("Vx+w"),b=function(){function l(l){this.config=l}return l.prototype.ngOnInit=function(){},l}(),f=t.vb({encapsulation:0,styles:[[""]],data:{}});function p(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,2,"a",[["class","nav-link"],["routerLink","/project"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.wb(2,671744,null,0,a.o,[a.l,a.a,c.h],{routerLink:[0,"routerLink"]},null),(l()(),t.xb(3,0,null,null,0,"i",[["class","fa fa-chevron-left glyphicon glyphicon-chevron-left"]],null,null,null,null,null))],(function(l,n){l(n,2,0,"/project")}),(function(l,n){l(n,1,0,t.Lb(n,2).target,t.Lb(n,2).href)}))}function d(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,24,"ul",[["class","nav nav-tabs mb-2"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,p)),t.wb(2,16384,null,0,c.k,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(3,0,null,null,10,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),t.wb(4,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,1,{links:1}),t.Qb(603979776,2,{linksWithHrefs:1}),(l()(),t.xb(7,0,null,null,6,"a",[["class","nav-link"],["routerLink","index"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,8).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.wb(8,671744,[[4,4],[2,4]],0,a.o,[a.l,a.a,c.h],{routerLink:[0,"routerLink"]},null),t.wb(9,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,3,{links:1}),t.Qb(603979776,4,{linksWithHrefs:1}),(l()(),t.xb(12,0,null,null,0,"i",[["class","fa fa-users mr-1"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Tenants"])),(l()(),t.xb(14,0,null,null,10,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),t.wb(15,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,5,{links:1}),t.Qb(603979776,6,{linksWithHrefs:1}),(l()(),t.xb(18,0,null,null,6,"a",[["class","nav-link"],["routerLink","settings"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,19).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.wb(19,671744,[[8,4],[6,4]],0,a.o,[a.l,a.a,c.h],{routerLink:[0,"routerLink"]},null),t.wb(20,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,7,{links:1}),t.Qb(603979776,8,{linksWithHrefs:1}),(l()(),t.xb(23,0,null,null,0,"i",[["class","fa fa-cog mr-1"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Settings"])),(l()(),t.xb(25,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.wb(26,212992,null,0,a.q,[a.b,t.P,t.j,[8,null],t.h],null,null)],(function(l,n){l(n,2,0,!n.component.config.query.iframe),l(n,4,0,"active"),l(n,8,0,"index"),l(n,9,0,"active"),l(n,15,0,"active"),l(n,19,0,"settings"),l(n,20,0,"active"),l(n,26,0)}),(function(l,n){l(n,7,0,t.Lb(n,8).target,t.Lb(n,8).href),l(n,18,0,t.Lb(n,19).target,t.Lb(n,19).href)}))}function m(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-root",[],null,null,null,d,f)),t.wb(1,114688,null,0,b,[s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var g,h=t.tb("app-root",b,m,{},{},[]),v=u("gIcY"),k=u("2p+7"),x=u("dXze"),y=u("MyaI"),L=(g=function(l,n){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var u in n)n.hasOwnProperty(u)&&(l[u]=n[u])})(l,n)},function(l,n){function u(){this.constructor=l}g(l,n),l.prototype=null===n?Object.create(n):(u.prototype=n.prototype,new u)}),w=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return L(n,l),n.prototype.ngAfterViewInit=function(){var l=this;this.config.error="",this.config.currentTenant=null,this.loadProjects().then((function(n){l.totalProjects=n.serverCount}))},n.prototype.getProjectUrl=function(l){if(this.config.currentProject){var n=this.config.apiUrl+"/project";return n+="?project="+this.config.currentProject._id,n+="&type=tenant",n+="&limit="+(l&&l.limit?l.limit:10),n+="&skip="+(l&&l.skip?l.skip:0),(n+=l&&l.title__regex?"&title__regex="+l.title__regex:"")+(l&&l.sort?"&sort="+l.sort:"")}},n.prototype.onRowAction=function(l,n,u){this.config.currentTenant=n,this.router.navigate(["..",n._id,u],{relativeTo:this.route})},n.prototype.gotoTenant=function(l,n){this.config.parentFrame.send({event:"gotoTenant",tenant:n})},n}(y.a),C=u("KzPs"),U=t.vb({encapsulation:0,styles:[[""]],data:{}});function P(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,3,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t.xb(4,0,null,null,2,"a",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onRowAction(u,l.context.$implicit,"view")&&t),t}),null,null)),(l()(),t.xb(5,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Ub(6,null,["",""])),(l()(),t.xb(7,0,null,null,8,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,2,"button",[["class","btn btn-success btn-sm form-btn"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.gotoTenant(u,l.context.$implicit)&&t),t}),null,null)),(l()(),t.xb(9,0,null,null,0,"span",[["class","fa fa-pencil"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Open"])),(l()(),t.Ub(-1,null,["\xa0 "])),(l()(),t.xb(12,0,null,null,1,"button",[["class","btn btn-outline-primary btn-sm form-btn"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onRowAction(u,l.context.$implicit,"view")&&t),t}),null,null)),(l()(),t.xb(13,0,null,null,0,"span",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),t.xb(14,0,null,null,1,"button",[["class","btn btn-outline-primary btn-sm form-btn"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onRowAction(u,l.context.$implicit,"delete")&&t),t}),null,null)),(l()(),t.xb(15,0,null,null,0,"span",[["class","fa fa-trash"]],null,null,null,null,null))],null,(function(l,n){l(n,6,0,n.context.$implicit.title)}))}function T(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,P)),t.wb(2,278528,null,0,c.j,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.projects)}),null)}function j(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,40,"table",[["class","table table-bordered table-striped table-hover"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,20,"thead",[],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,5,"th",[],null,null,null,null,null)),(l()(),t.xb(4,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.xb(5,0,null,null,1,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Tenants "])),(l()(),t.xb(7,0,null,null,1,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Operations "])),(l()(),t.xb(9,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,11,"th",[],[[8,"colSpan",0]],null,null,null,null)),(l()(),t.xb(11,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,5,"input",[["aria-describedby","button-search"],["aria-label","Search Tenants"],["class","form-control"],["placeholder","Search Tenants"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Lb(l,13)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Lb(l,13).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Lb(l,13)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Lb(l,13)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.search=u)&&e),"keydown.enter"===n&&(e=!1!==i.onSearch()&&e),e}),null,null)),t.wb(13,16384,null,0,v.b,[t.D,t.l,[2,v.a]],null,null),t.Pb(1024,null,v.d,(function(l){return[l]}),[v.b]),t.wb(15,671744,null,0,v.g,[[8,null],[8,null],[8,null],[6,v.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,v.e,null,[v.g]),t.wb(17,16384,null,0,v.f,[[4,v.e]],null,null),(l()(),t.xb(18,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.xb(19,0,null,null,2,"button",[["class","btn btn-primary"],["id","button-search"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onSearch()&&t),t}),null,null)),(l()(),t.xb(20,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Search"])),(l()(),t.gb(16777216,null,null,1,null,T)),t.wb(23,16384,null,0,c.k,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(24,0,null,null,16,"tfoot",[["class","formio-grid-footer"]],null,null,null,null,null)),(l()(),t.xb(25,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),t.xb(26,0,null,null,14,"td",[],[[8,"colSpan",0]],null,null,null,null)),(l()(),t.xb(27,0,null,null,3,"button",[["class","btn btn-primary pull-left float-left"],["routerLink","../create"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,28).onClick()&&e),e}),null,null)),t.wb(28,16384,null,0,a.m,[a.l,a.a,[8,null],t.D,t.l],{routerLink:[0,"routerLink"]},null),(l()(),t.xb(29,0,null,null,0,"i",[["class","glyphicon glyphicon-plus fa fa-plus"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Create Tenant"])),(l()(),t.xb(31,0,null,null,3,"span",[["class","pull-right float-right item-counter"]],null,null,null,null,null)),(l()(),t.xb(32,0,null,null,1,"span",[["class","page-num"]],null,null,null,null,null)),(l()(),t.Ub(33,null,[""," - ",""])),(l()(),t.Ub(34,null,[" / "," total"])),(l()(),t.xb(35,0,null,null,5,"pagination",[["class","justify-content-center pagination-sm"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"pageChanged"],[null,"ngModelChange"]],(function(l,n,u){var t=!0,e=l.component;return"pageChanged"===n&&(t=!1!==e.setPage(u)&&t),"ngModelChange"===n&&(t=!1!==(e.page=u)&&t),t}),k.b,k.a)),t.wb(36,114688,null,0,x.b,[t.l,x.c,t.h],{itemsPerPage:[0,"itemsPerPage"],totalItems:[1,"totalItems"]},{pageChanged:"pageChanged"}),t.Pb(1024,null,v.d,(function(l){return[l]}),[x.b]),t.wb(38,671744,null,0,v.g,[[8,null],[8,null],[8,null],[6,v.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,v.e,null,[v.g]),t.wb(40,16384,null,0,v.f,[[4,v.e]],null,null)],(function(l,n){var u=n.component;l(n,15,0,u.search),l(n,23,0,u.projects),l(n,28,0,"../create"),l(n,36,0,u.query.limit,u.totalProjects),l(n,38,0,u.page)}),(function(l,n){var u=n.component;l(n,10,0,2),l(n,12,0,t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,26,0,2),l(n,33,0,u.firstItem,u.lastItem),l(n,34,0,u.totalProjects),l(n,35,0,t.Lb(n,40).ngClassUntouched,t.Lb(n,40).ngClassTouched,t.Lb(n,40).ngClassPristine,t.Lb(n,40).ngClassDirty,t.Lb(n,40).ngClassValid,t.Lb(n,40).ngClassInvalid,t.Lb(n,40).ngClassPending)}))}function K(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-index",[],null,null,null,j,U)),t.wb(1,4243456,null,0,w,[s.a,C.a,a.l,a.a,t.h],null,null)],null,null)}var A=t.tb("app-index",w,K,{},{},[]),I=u("S8Yu"),q=u("rJcy"),M=u("3CKi"),X={form:u("tLby")},F=u("htdP").FormioUtils,_=u("LvDl"),S=function(){function l(l,n,u){this.config=l,this.route=n,this.router=u,this.tenantForm=X.form,this.error=new t.n,this.success=new t.n,this.formReady=!1}return l.prototype.ngAfterViewInit=function(){var l=this,n=this.config.apiUrl+"/"+this.config.currentProject.name;this.config.request(n).get().subscribe((function(u){l.config.request(n+"/admin").get().subscribe((function(t){F.getComponent(l.tenantForm.components,"adminPanel",!0).components=_.filter(t.components.map((function(l){return"submit"!==l.action&&l})));var e=F.getComponent(l.tenantForm.components,"configPanel",!0),i=_.get(u,"settings.tenantConfigForm","");i?l.config.request(n+"/"+i).get().subscribe((function(n){e.components[0].components=_.filter(n.components.map((function(l){return"submit"!==l.action&&l}))),l.formReady=!0})):(e.hidden=!0,l.formReady=!0)}))}))},l.prototype.onSubmit=function(l){var n=this,u=l.data.title.replace(/\s+/g,"-"),t={title:l.data.title,project:this.config.currentProject._id,name:u.toLowerCase()+"-"+this.config.currentProject.name,settings:{cors:"*"},type:"tenant"};_.isEmpty(l.data.config)||(t.settings.allowConfig=!0,t.config=l.data.config),this.config.request(this.config.apiUrl+"/project").post(t).subscribe((function(u){l.data.createUser?n.config.request(n.config.apiUrl+"/"+u.name+"/admin/submission").post({data:{firstName:l.data.firstName,lastName:l.data.lastName,email:l.data.email,password:l.data.password}}).subscribe((function(l){n.success.emit("Tenant Created"),n.router.navigate([".."],{relativeTo:n.route})}),(function(l){n.error.emit(l.error||l.error.message)})):(n.success.emit("Tenant Created"),n.router.navigate([".."],{relativeTo:n.route}))}),(function(l){n.error.emit(l.error||l.error.message)}))},l}(),D=t.vb({encapsulation:0,styles:[[""]],data:{}});function O(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,3,"formio",[],null,[[null,"submit"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==l.component.onSubmit(u)&&t),t}),i.c,i.b)),t.wb(1,770048,null,0,I.a,[t.z,[2,q.a],[2,M.a]],{form:[0,"form"],options:[1,"options"],error:[2,"error"],success:[3,"success"]},{submit:"submit"}),t.Nb(2,{submitMessage:0}),t.Nb(3,{alerts:0})],(function(l,n){var u=n.component,t=u.tenantForm,e=l(n,3,0,l(n,2,0,"Tenant Created!"));l(n,1,0,t,e,u.error,u.success)}),null)}function Q(l){return t.Xb(0,[(l()(),t.gb(16777216,null,null,1,null,O)),t.wb(1,16384,null,0,c.k,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.formReady)}),null)}function R(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-create",[],null,null,null,Q,D)),t.wb(1,4243456,null,0,S,[s.a,a.a,a.l],null,null)],null,null)}var V=t.tb("app-create",S,R,{},{},[]),H=(u("htdP"),u("LvDl")),N=u("htdP").Formio,W=function(){function l(l){this.config=l,this.formReady=!1,this.success=new t.n,this.settingsForm={components:[{type:"select",key:"form",label:"Configuration Form",dataSrc:"url",template:"<span>{{ item.title }}</span>",valueProperty:"name",data:{url:""}},{type:"button",action:"submit",label:"Save Settings",theme:"primary",key:"submit"}]},this.projectUrl=this.config.apiUrl+"/"+this.config.currentProject.name}return l.prototype.ngOnInit=function(){var l=this;this.config.request(this.projectUrl).get().subscribe((function(n){l.project=n,l.settingsForm.components[0].defaultValue=H.get(n,"settings.tenantConfigForm",""),l.settingsForm.components[0].data.url=l.config.apiUrl+"/"+l.config.currentProject.name+"/form?type=form&limit=200000",l.settingsForm.components[0].data.headers=[{key:"x-jwt-token",value:N.getToken()}],l.formReady=!0}))},l.prototype.saveSettings=function(l){var n=this;H.set(this.project,"settings.tenantConfigForm",l.data.form),this.config.request(this.projectUrl).put(this.project).subscribe((function(l){n.success.emit("Project Updated"),n.formio.formio.emit("submitDone",l)}))},l}(),z=t.vb({encapsulation:0,styles:[[""]],data:{}});function J(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"formio",[],null,[[null,"submit"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==l.component.saveSettings(u)&&t),t}),i.c,i.b)),t.wb(1,770048,[[1,4],["formio",4]],0,I.a,[t.z,[2,q.a],[2,M.a]],{form:[0,"form"],success:[1,"success"]},{submit:"submit"})],(function(l,n){var u=n.component;l(n,1,0,u.settingsForm,u.success)}),null)}function Y(l){return t.Xb(0,[t.Qb(671088640,1,{formio:0}),(l()(),t.gb(16777216,null,null,1,null,J)),t.wb(2,16384,null,0,c.k,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.formReady)}),null)}function E(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-settings",[],null,null,null,Y,z)),t.wb(1,114688,null,0,W,[s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var $=t.tb("app-settings",W,E,{},{},[]),G=function(){return function(l){this.config=l}}(),Z=t.vb({encapsulation:0,styles:[[""]],data:{}});function B(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,8,"ul",[["class","nav nav-tabs mb-2"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,2,"a",[["class","nav-link"],["routerLink","../index"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.wb(3,671744,null,0,a.o,[a.l,a.a,c.h],{routerLink:[0,"routerLink"]},null),(l()(),t.xb(4,0,null,null,0,"i",[["class","fa fa-chevron-left glyphicon glyphicon-chevron-left"]],null,null,null,null,null)),(l()(),t.xb(5,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,2,"a",[["class","nav-link active"],["routerLink","."]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,7).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.wb(7,671744,null,0,a.o,[a.l,a.a,c.h],{routerLink:[0,"routerLink"]},null),(l()(),t.Ub(8,null,["",""])),(l()(),t.xb(9,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,23,"div",[["class","col-2"]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,22,"div",[["aria-orientation","vertical"],["class","nav flex-column nav-pills"],["id","v-pills-tab"],["role","tablist"]],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,10,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),t.wb(13,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,1,{links:1}),t.Qb(603979776,2,{linksWithHrefs:1}),(l()(),t.xb(16,0,null,null,6,"a",[["class","nav-link"],["routerLink","view"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,17).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.wb(17,671744,[[4,4],[2,4]],0,a.o,[a.l,a.a,c.h],{routerLink:[0,"routerLink"]},null),t.wb(18,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,3,{links:1}),t.Qb(603979776,4,{linksWithHrefs:1}),(l()(),t.xb(21,0,null,null,0,"i",[["class","fa fa-pencil glyphicon glyphicon-pencil"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Details"])),(l()(),t.xb(23,0,null,null,10,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),t.wb(24,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,5,{links:1}),t.Qb(603979776,6,{linksWithHrefs:1}),(l()(),t.xb(27,0,null,null,6,"a",[["class","nav-link"],["routerLink","delete"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Lb(l,28).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.wb(28,671744,[[8,4],[6,4]],0,a.o,[a.l,a.a,c.h],{routerLink:[0,"routerLink"]},null),t.wb(29,1720320,null,2,a.n,[a.l,t.l,t.D,[2,a.m],[2,a.o]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Qb(603979776,7,{links:1}),t.Qb(603979776,8,{linksWithHrefs:1}),(l()(),t.xb(32,0,null,null,0,"span",[["class","fa fa-trash glyphicon glyphicon-trash"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Delete"])),(l()(),t.xb(34,0,null,null,4,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t.xb(35,0,null,null,3,"div",[["class","tab-content"],["id","v-pills-tabContent"]],null,null,null,null,null)),(l()(),t.xb(36,0,null,null,2,"div",[["aria-labelledby","v-pills-home-tab"],["class","tab-pane show active"],["id","v-pills-home"],["role","tabpanel"]],null,null,null,null,null)),(l()(),t.xb(37,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.wb(38,212992,null,0,a.q,[a.b,t.P,t.j,[8,null],t.h],null,null)],(function(l,n){l(n,3,0,"../index"),l(n,7,0,"."),l(n,13,0,"active"),l(n,17,0,"view"),l(n,18,0,"active"),l(n,24,0,"active"),l(n,28,0,"delete"),l(n,29,0,"active"),l(n,38,0)}),(function(l,n){var u=n.component;l(n,2,0,t.Lb(n,3).target,t.Lb(n,3).href),l(n,6,0,t.Lb(n,7).target,t.Lb(n,7).href),l(n,8,0,u.config.currentTenant.title),l(n,16,0,t.Lb(n,17).target,t.Lb(n,17).href),l(n,27,0,t.Lb(n,28).target,t.Lb(n,28).href)}))}function ll(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-tenant",[],null,null,null,B,Z)),t.wb(1,49152,null,0,G,[s.a],null,null)],null,null)}var nl=t.tb("app-tenant",G,ll,{},{},[]),ul=function(){function l(l,n){this.config=l,this.route=n,this.apiUrl=this.config.apiUrl+"/"+this.config.currentTenant.name}return l.prototype.ngOnInit=function(){var l=this;this.config.request(this.config.apiUrl+"/project/"+this.config.currentTenant._id).get().subscribe((function(n){l.config.currentTenant=n}))},l}(),tl=t.vb({encapsulation:0,styles:[[""]],data:{}});function el(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,5,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,4,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Submission Requests "])),(l()(),t.xb(5,0,null,null,1,"h4",[["class","card-body"]],null,null,null,null,null)),(l()(),t.Ub(6,null,[" "," / "," "])),(l()(),t.xb(7,0,null,null,5,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,4,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.xb(9,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Forms "])),(l()(),t.xb(11,0,null,null,1,"h4",[["class","card-body"]],null,null,null,null,null)),(l()(),t.Ub(12,null,[" "," "])),(l()(),t.xb(13,0,null,null,5,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t.xb(14,0,null,null,4,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.xb(15,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Forms Requests "])),(l()(),t.xb(17,0,null,null,1,"h4",[["class","card-body"]],null,null,null,null,null)),(l()(),t.Ub(18,null,[" "," "])),(l()(),t.xb(19,0,null,null,5,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),t.xb(20,0,null,null,4,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.xb(21,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Ub(-1,null,[" Emails "])),(l()(),t.xb(23,0,null,null,1,"h4",[["class","card-body"]],null,null,null,null,null)),(l()(),t.Ub(24,null,[" "," "]))],null,(function(l,n){var u=n.component;l(n,6,0,u.config.currentTenant.apiCalls.used.submissionRequests,u.config.currentTenant.apiCalls.limit.submissionRequests),l(n,12,0,u.config.currentTenant.apiCalls.used.forms),l(n,18,0,u.config.currentTenant.apiCalls.used.formRequests),l(n,24,0,u.config.currentTenant.apiCalls.used.emails)}))}function il(l){return t.Xb(0,[t.Mb(0,c.d,[t.u]),(l()(),t.xb(1,0,null,null,5,"div",[["class","row px-3 justify-content-between"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Ub(3,null,["Created: "," "])),t.Ob(4,2),(l()(),t.xb(5,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Ub(6,null,["version: "," "])),(l()(),t.xb(7,0,null,null,3,"div",[["class","card card-body bg-light mb-3"]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Ub(-1,null,["API Endpoint: "])),(l()(),t.Ub(10,null,[" ","\n"])),(l()(),t.gb(16777216,null,null,1,null,el)),t.wb(12,16384,null,0,c.k,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,12,0,n.component.config.currentTenant.apiCalls)}),(function(l,n){var u=n.component,e=t.Vb(n,3,0,l(n,4,0,t.Lb(n,0),u.config.currentTenant.created,"MMM/dd/yyyy"));l(n,3,0,e),l(n,6,0,u.config.currentTenant.tag),l(n,10,0,u.apiUrl)}))}function ol(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-view",[],null,null,null,il,tl)),t.wb(1,114688,null,0,ul,[s.a,a.a],null,null)],(function(l,n){l(n,1,0)}),null)}var rl=t.tb("app-view",ul,ol,{},{},[]),al=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),cl=t.vb({encapsulation:0,styles:[[""]],data:{}});function sl(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"formio",[],null,null,null,i.c,i.b)),t.wb(1,770048,null,0,I.a,[t.z,[2,q.a],[2,M.a]],null,null)],(function(l,n){l(n,1,0)}),null)}function bl(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-edit",[],null,null,null,sl,cl)),t.wb(1,114688,null,0,al,[],null,null)],(function(l,n){l(n,1,0)}),null)}var fl=t.tb("app-edit",al,bl,{},{},[]),pl=function(){function l(l,n,u){this.config=l,this.router=n,this.route=u}return l.prototype.onDelete=function(){var l=this;this.config.request(this.config.apiUrl+"/project/"+this.config.currentTenant._id).delete().subscribe((function(){l.router.navigate(["../.."],{relativeTo:l.route})}))},l.prototype.onCancel=function(){this.router.navigate(["..","view"],{relativeTo:this.route})},l}(),dl=t.vb({encapsulation:0,styles:[[""]],data:{}});function ml(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Ub(-1,null,["Are you sure you wish to delete this Tenant?"])),(l()(),t.xb(2,0,null,null,4,"div",[["class","btn-toolbar"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"button",[["class","btn btn-danger"],["style","margin-right: 10px;"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onDelete()&&t),t}),null,null)),(l()(),t.Ub(-1,null,["Yes"])),(l()(),t.xb(5,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),(l()(),t.Ub(-1,null,["No"]))],null,null)}function gl(l){return t.Xb(0,[(l()(),t.xb(0,0,null,null,1,"app-delete",[],null,null,null,ml,dl)),t.wb(1,49152,null,0,pl,[s.a,a.l,a.a],null,null)],null,null)}var hl=t.tb("app-delete",pl,gl,{},{},[]),vl=u("ikog"),kl=function(){return function(){}}(),xl=t.ub(e,[],(function(l){return t.Jb([t.Kb(512,t.j,t.Y,[[8,[i.a,o.a,r.a,h,A,V,$,nl,rl,fl,hl]],[3,t.j],t.x]),t.Kb(4608,c.m,c.l,[t.u]),t.Kb(4608,v.i,v.i,[]),t.Kb(4608,C.a,C.a,[]),t.Kb(4608,M.a,M.a,[]),t.Kb(1073742336,c.b,c.b,[]),t.Kb(1073742336,v.h,v.h,[]),t.Kb(1073742336,v.c,v.c,[]),t.Kb(1073742336,vl.a,vl.a,[]),t.Kb(1073742336,a.p,a.p,[[2,a.u],[2,a.l]]),t.Kb(1073742336,kl,kl,[]),t.Kb(1073742336,x.d,x.d,[]),t.Kb(1073742336,e,e,[]),t.Kb(1024,a.j,(function(){return[[{path:"",component:b,children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:w},{path:"create",component:S},{path:"settings",component:W}]},{path:":id",component:G,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:ul},{path:"edit",component:al},{path:"delete",component:pl}]}]]}),[])])}))},tLby:function(l){l.exports=JSON.parse('{"components":[{"autofocus":false,"input":true,"tableView":true,"inputType":"text","inputMask":"","label":"Name","key":"title","placeholder":"Enter the tenant name","prefix":"","suffix":"","multiple":false,"defaultValue":"","protected":false,"unique":false,"persistent":true,"hidden":false,"clearOnHide":true,"spellcheck":true,"validate":{"required":true,"minLength":"","maxLength":"","pattern":"","custom":"","customPrivate":false},"conditional":{"show":"","when":null,"eq":""},"type":"textfield","labelPosition":"top","inputFormat":"plain","tags":[],"properties":{}},{"clearOnHide":false,"key":"configPanel","input":false,"title":"Tenant Configuration","theme":"default","tableView":false,"components":[{"type":"container","label":"","key":"config","components":[]}],"type":"panel","breadcrumb":"default","hideLabel":false,"tags":[],"conditional":{},"properties":{}},{"autofocus":false,"input":true,"inputType":"checkbox","tableView":true,"label":"Create an admin user","dataGridLabel":false,"key":"createUser","defaultValue":false,"protected":false,"persistent":true,"hidden":false,"name":"","value":"","clearOnHide":true,"validate":{"required":false},"type":"checkbox","labelPosition":"right","hideLabel":false,"tags":[],"conditional":{"show":"","when":null,"eq":""},"properties":{},"lockKey":true},{"clearOnHide":false,"key":"adminPanel","input":false,"title":"New Tenant Administrator","theme":"default","tableView":false,"components":[],"type":"panel","breadcrumb":"default","hideLabel":false,"tags":[],"conditional":{"show":"true","when":"createUser","eq":"true"},"properties":{}},{"autofocus":false,"input":true,"label":"Submit","tableView":false,"key":"submit","size":"md","leftIcon":"","rightIcon":"","block":false,"action":"submit","disableOnInvalid":false,"theme":"primary","type":"button"}]}')}}]);